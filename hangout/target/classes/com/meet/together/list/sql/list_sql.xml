<?xml version="1.0" encoding="UTF-8" ?> 
<!DOCTYPE mapper PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN" "http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd">

<mapper namespace="listInfo">
	<insert id="INSERT_LIST" parameterType="listInfo">
		insert into hangout_info(
		hangoutcreator,
		hangoutname,
		hangoutcontent,
		hangoutarea,
		hangoutopendate,
		hangoutclosedate,
		hangoutdate,
		hangoutcategory,
		hangouttag)
		values(
		#{hangoutCreator},
		#{hangoutName},
		#{hangoutContent},
		#{hangoutArea},
		#{hangoutOpenDate},
		#{hangoutCloseDate},
		DATE_FORMAT(NOW(), '%Y%m%d'),
		#{hangoutCategory},
		#{hangoutTag}
		)
	</insert>

	<select id="SELECT_LIST" parameterType="listInfo" resultType="listInfo">
		select hangoutnum,
		hangoutcreator,
		hangoutname,
		hangoutcontent,
		hangoutarea,
		hangoutopendate,
		hangoutclosedate,
		hangoutdate,
		hangoutcategory,
		hangouttag
		from hangout_info
		where 1=1
			<if test="hangoutName!=null">
	and hangoutname like concat('%',#{hangoutName},'%')
	</if>
	limit 12
	</select>
		<select id="SELECT_LIST_ONE" parameterType="listInfo" resultType="listInfo">
		select hangoutnum,
		hangoutcreator,
		hangoutname,
		hangoutcontent,
		hangoutarea,
		hangoutopendate,
		hangoutclosedate,
		hangoutdate,
		hangoutcategory,
		hangouttag
		from hangout_info
		where 1=1
	<if test="hangoutNum!=null">
		and hangoutNum = #{hangoutNum}
	</if>
	</select>
</mapper>